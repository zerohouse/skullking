<div class="container">
    <h3>SkullKing Online - OnePiece Theme</h3>

    <div>
        <h5>Rooms <span ng-click="refresh()" class="label-warning label">Refresh</span></h5>
        <table class="table table-striped room">
            <thead>
            <tr>
                <th><i class="fa fa-sort-numeric-asc"></i></th>
                <th><i class="fa fa-sort-numeric-header"></i></th>
                <th><i class="fa fa-user"></i></th>
                <th><i class="fa fa-users"></i></th>
                <th><i class="fa fa-clock-o"></i></th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="room in rooms" ng-click="go(room)">
                <td>{{$index+1}}</td>
                <td>{{room.name}}</td>
                <td>{{room.maker}}</td>
                <td>{{room.size}}/{{room.maxSize}}</td>
                <td>{{room.createdAt.toYMD()}}</td>
            </tr>
            <tr ng-if="rooms.length===0">
                <td colspan="5">No games.</td>
            </tr>
            </tbody>
        </table>
        <div ng-click="makeRoomPopup()" class="btn btn-primary">Make a Room</div>
    </div>
    <div style="margin-top:30px;">
        <h5>Rule</h5>
        <ul class="list-group">
            <li class="list-group-item">
                게임은 총 10 라운드로 진행되며, <span uib-tooltip="1라운드는 1번, 2라운드는 2번...">각 라운드 만큼의<span
                    class="fa fa-question-circle"></span></span>
                <span uib-tooltip="모든 플레이어가 순서대로 카드를 1장 내고, 가장 높은 카드가 승리합니다.">전투<span
                        class="fa fa-question-circle"></span></span>가 진행됩니다.
            </li>
            <li class="list-group-item">
                라운드 시작전 플레이어는 해당 라운드에서 몇번 승리할지 예측하고,
                <br> 라운드 종료시 <span uib-tooltip="예측수 *20 / 0승 예측시 라운드*10">맞았으면 점수를 획득<span
                    class="fa fa-question-circle"></span></span>하고 <span
                    uib-tooltip="틀린횟수(예측수-실제 승리) * 10 / 0승 예측시 라운드*10">틀렸으면 점수를 잃습니다.<span
                    class="fa fa-question-circle"></span></span>
            </li>
            <li class="list-group-item">
                10 라운드 종료 후 점수가 가장 높은 플레이어가 승리합니다.
            </li>
            <li class="list-group-item">
                카드는 다음의 순서로 강합니다.<br>
                <div style="font-size:10px;">
                    <span>King</span>
                    <mark mark="king"></mark>
                    <span>> Pirate</span>
                    <mark mark="pirate"></mark>
                    <span>> Girl</span>
                    <mark mark="girl"></mark>
                    <span>> Black</span>
                    <mark mark="black"></mark>
                    <span>> Red</span>
                    <mark mark="red"></mark>
                    <span>= Blue</span>
                    <mark mark="blue"></mark>
                    <span>= Yellow</span>
                    <mark mark="yellow"></mark>
                    <span>> Escape</span>
                    <mark mark="white"></mark>
                </div>
                <br>
                <b>해적왕과 여자가 함께 나오면 여자가 승리합니다.</b><br>
                빨강, 파랑, 노랑 카드는 해당 라운드에 먼저 나온 카드가 가장 강합니다.
            </li>
            <li class="list-group-item">
                같은 레벨의 카드라면, 먼저 나온 카드가 승리합니다.
            </li>
            <li class="list-group-item">
                같은 색의 카드라면 높은 숫자를 가진 카드가 승리합니다.
            </li>
            <li class="list-group-item">
                먼저 나온 색깔의 카드가 있다면, 그 카드 내거나 색깔이 없는 카드를 내야 합니다.
            </li>
        </ul>
    </div>
    <div ng-if="ranks.length>0" style="margin-top:30px;">
        <h5>Rank (1st~30th) <span ng-click="refreshRank()" class="label-warning label">Refresh</span></h5>
        <table class="table table-striped room">
            <thead>
            <tr style="font-size:12px;">
                <th><i class="fa fa-sort-numeric-asc"></i></th>
                <th><i class="fa fa-user"></i></th>
                <th>Games</th>
                <th>Point</th>
                <th class="hidden-sm">Avg.Point(10 Games)</th>
                <th class="hidden-sm">Avg.Percent(10 Games)</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="ranker in ranks">
                <td>{{$index+1}}</td>
                <td>{{ranker.name}}</td>
                <td>{{ranker.ranks.length}}</td>
                <td>{{ranker.point}}</td>
                <td class="hidden-sm">{{ranker.avgPoint || 0 | number:1}}</td>
                <td class="hidden-sm">{{ranker.avgRank*100 || 0 | number:1}}%</td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="cards">
        <div>Card examples</div>
        <div style="text-align: center">
            <card card="card" ng-class="{submitable:card.submitable,'winable':card.winable}"
                  ng-repeat="card in cards"></card>
        </div>
    </div>
</div>